{"version":3,"sources":["components/NameFilterField.js","components/AddPersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/numbers.js","App.js","index.js"],"names":["NameFilterField","handleFilterChange","filterValue","onChange","value","AddPersonForm","name","number","submitHandler","nameChangeHandler","numberChangleHandler","onSubmit","type","Person","person","handleNumberDelete","onClick","id","Persons","persons","filter","toLowerCase","includes","map","Notification","message","notificationStyle","color","success","background","fontSize","padding","marginBottom","borderRadius","borderStyle","style","baseUrl","service","getAll","axios","get","then","res","data","create","object","post","update","put","remove","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilterValue","notificationMessage","setNotificationMessage","isOperationSuccessful","setIsOperationSuccessful","useEffect","numberService","initialNumbers","catch","error","response","finally","setTimeout","e","target","preventDefault","some","window","confirm","find","p","changedPerson","updatedNumberInResponse","createdNumberInResponse","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13964b10.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function NameFilterField({ handleFilterChange, filterValue }) {\n  return (\n    <div>\n      <div>\n        filter shown with{' '}\n        <input onChange={handleFilterChange} value={filterValue} />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function AddPersonForm({\n  name,\n  number,\n  submitHandler,\n  nameChangeHandler,\n  numberChangleHandler,\n}) {\n  return (\n    <div>\n      <form onSubmit={submitHandler}>\n        <div>\n          name: <input onChange={nameChangeHandler} value={name} />\n        </div>\n        <div>\n          number: <input onChange={numberChangleHandler} value={number} />\n        </div>\n        <div>\n          <button type='submit'>add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Person({ person, handleNumberDelete }) {\n  const name = person.name === '' ? 'unnamed' : person.name\n\n  return (\n    <div>\n      {person.name} {person.number}{' '}\n      <button onClick={() => handleNumberDelete(name, person.id)}>delete</button>\n    </div>\n  )\n}\n","import React from 'react'\nimport Person from './Person'\n\nexport default function Persons({ persons, filterValue, handleNumberDelete }) {\n  return (\n    <div>\n      {persons\n        .filter((person) =>\n          person.name.toLowerCase().includes(filterValue.toLowerCase())\n        )\n        .map((person) => {\n          return (\n            <Person\n              key={person.id}\n              person={person}\n              handleNumberDelete={handleNumberDelete}\n            />\n          )\n        })}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Notification({ message, success }) {\n  const notificationStyle = {\n    color: success ? 'green' : 'red',\n    background: 'lightgrey',\n    fontSize: 16,\n\t\tpadding: 10,\n\t\tmarginBottom: 10,\n\t\tborderRadius: 5,\n\t\tborderStyle: 'solid',\n  }\n\n  return <div style={notificationStyle}>{message}</div>\n}\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const req = axios.get(baseUrl)\n  return req.then((res) => res.data)\n}\n\nconst create = (object) => {\n  const req = axios.post(baseUrl, object)\n  return req.then((res) => res.data)\n}\n\nconst update = (id, object) => {\n  const req = axios.put(`${baseUrl}/${id}`, object)\n  return req.then((res) => res.data)\n}\n\nconst remove = (id) => {\n  const req = axios.delete(`${baseUrl}/${id}`)\n  return req.then((res) => res.data)\n}\n\nconst service = { getAll, create, update, remove }\n\nexport default service\n","import React, { useState, useEffect } from 'react'\nimport NameFilterField from './components/NameFilterField'\nimport AddPersonForm from './components/AddPersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport numberService from './services/numbers'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterValue, setFilterValue] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [isOperationSuccessful, setIsOperationSuccessful] = useState(true)\n\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then((initialNumbers) => {\n        setPersons(initialNumbers)\n      })\n      .catch((error) => {\n        const message = error.response.data.message\n        setNotificationMessage(message)\n        setIsOperationSuccessful(false)\n      })\n      .finally(() => {\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n  }, [])\n\n  const handleFilterChange = (e) => {\n    setFilterValue(e.target.value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n\n    const personAlreadyExists = persons.some(\n      (person) => person.name === newName\n    )\n\n    if (personAlreadyExists) {\n      const isConfirmed = window.confirm(\n        `${newName} is already added to the phonebook, replace the old number with a new one?`\n      )\n\n      if (isConfirmed) {\n        const person = persons.find((p) => p.name === newName)\n        const changedPerson = { ...person, number: newNumber }\n\n        numberService\n          .update(changedPerson.id, changedPerson)\n          .then((updatedNumberInResponse) => {\n            setPersons(\n              persons.map((p) =>\n                p.id !== changedPerson.id ? p : updatedNumberInResponse\n              )\n            )\n            setNotificationMessage(`Updated ${updatedNumberInResponse.name}`)\n            setIsOperationSuccessful(true)\n          })\n          .catch((error) => {\n            const message = error.response.data.message\n            setNotificationMessage(message)\n            setIsOperationSuccessful(false)\n          })\n          .finally(() => {\n            setNewName('')\n            setNewNumber('')\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      numberService\n        .create({ name: newName, number: newNumber })\n        .then((createdNumberInResponse) => {\n          setPersons(persons.concat(createdNumberInResponse))\n          setNotificationMessage(`Added ${createdNumberInResponse.name}`)\n          setIsOperationSuccessful(true)\n        })\n        .catch((error) => {\n          const message = error.response.data.message\n          setNotificationMessage(message)\n          setIsOperationSuccessful(false)\n        })\n        .finally(() => {\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleNumberDelete = (name, id) => {\n    const isConfirmed = window.confirm(`Delete ${name}?`)\n\n    if (isConfirmed) {\n      numberService\n        .remove(id)\n        .then(() => {\n          setNotificationMessage(`Deleted ${name}`)\n          setIsOperationSuccessful(true)\n        })\n        .catch((error) => {\n          const message = error.response.data.message\n          setNotificationMessage(message)\n          setIsOperationSuccessful(false)\n        })\n        .finally(() => {\n          setPersons(persons.filter((p) => p.id !== id))\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <>\n      <div>\n        <h1>Phonebook</h1>\n\n        {notificationMessage === null ? null : (\n          <Notification\n            message={notificationMessage}\n            success={isOperationSuccessful}\n          />\n        )}\n\n        <NameFilterField\n          handleFilterChange={handleFilterChange}\n          value={filterValue}\n        />\n\n        <h2>add a new</h2>\n\n        <AddPersonForm\n          name={newName}\n          number={newNumber}\n          submitHandler={handleSubmit}\n          nameChangeHandler={handleNameChange}\n          numberChangleHandler={handleNumberChange}\n        />\n\n        <h2>Numbers</h2>\n\n        <Persons\n          persons={persons}\n          filterValue={filterValue}\n          handleNumberDelete={handleNumberDelete}\n        />\n      </div>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}